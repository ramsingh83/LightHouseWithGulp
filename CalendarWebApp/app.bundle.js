webpackJsonp([0],{0:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _angular=__webpack_require__(1),_angular2=_interopRequireDefault(_angular),_angularRoute=__webpack_require__(3),_angularRoute2=_interopRequireDefault(_angularRoute),_angularSanitize=__webpack_require__(5),_angularSanitize2=_interopRequireDefault(_angularSanitize),_angularMoment=__webpack_require__(7),_angularMoment2=_interopRequireDefault(_angularMoment),_main=__webpack_require__(130),_main2=_interopRequireDefault(_main),_components=__webpack_require__(134),_components2=_interopRequireDefault(_components),_calendar=__webpack_require__(135),_calendar2=_interopRequireDefault(_calendar),_bootstrap=__webpack_require__(136),_bootstrap2=_interopRequireDefault(_bootstrap);__webpack_require__(137);var calendar=_angular2.default.module("app",[_angularRoute2.default,_angularSanitize2.default,_components2.default,_angularMoment2.default]).config(_main2.default).service("calendarService",_calendar2.default).name;exports.default=calendar,(0,_bootstrap2.default)()},130:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function routeConfig($routeProvider){$routeProvider.when("/",_calendar2.default).otherwise({redirectTo:"/"})}Object.defineProperty(exports,"__esModule",{value:!0});var _calendar=__webpack_require__(131),_calendar2=_interopRequireDefault(_calendar);exports.default=routeConfig},131:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _calendar=__webpack_require__(132),_calendar2=_interopRequireDefault(_calendar),_calendarView=__webpack_require__(133),_calendarView2=_interopRequireDefault(_calendarView),calendarComponent={template:_calendarView2.default,controller:_calendar2.default,controllerAs:"vm",bindings:{dateOptions:"<"}};exports.default=calendarComponent},132:function(module,exports){"use strict";function calendarController(calendarService,moment){function pad(n){return n<10?"0"+n:n}function getDateRange(startDate,endDate){for(var dates=[],currDate=moment(startDate,dateFormat),lastDate=moment(endDate,dateFormat),now=currDate.clone();now.isBefore(lastDate)||now.isSame(lastDate);)dates.push(now.format(dateFormat)),now=now.add(1,"days");return dates}function getEmptyDayBlockNumber(){return new Array(parseInt(vm.dayName,10))}function getSurcharge(day){var months=moment().month(vm.monthName).format("M")-1,currentDate=new Date(parseInt(vm.yearName,10),months,parseInt(day,10)),currentDay=vm.weekday[currentDate.getDay()].toLowerCase(),surcharge=void 0;return surcharge="sat"===currentDay?vm.surcharge.weekend:vm.surcharge.weekday||"0"}function isDateActive(day){return dateArray.indexOf(day)>-1}function selectDate(day){isDateActive(day)&&(vm.calendarService.calendarModel.day=day,vm.calendarService.calendarModel.month=vm.monthName,vm.calendarService.calendarModel.year=vm.yearName,vm.calendarService.calendarModel.surcharge=getSurcharge(day))}var vm=this,dateArray=[],dateFormat="DD/MM/YYYY",sdate=null,daysInMonth=null;vm.numberOfDays=[];var options=calendarService.dateOptions;sdate=vm.dateOptions?vm.dateOptions.dateFrom:options.dateFrom,vm.startDate=vm.dateOptions?vm.dateOptions.dateFrom:options.dateFrom,vm.endDate=vm.dateOptions?vm.dateOptions.dateTo:options.dateTo,vm.dateExclude=vm.dateOptions?vm.dateOptions.datesExcluded:options.datesExcluded,vm.surcharge=vm.dateOptions?vm.dateOptions.surcharge:options.surcharge,vm.startDate||vm.endDate||(vm.noDates=!0),sdate=moment(sdate,dateFormat),daysInMonth=moment(sdate).daysInMonth(),vm.weekday=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],vm.monthName=sdate.format("MMMM"),vm.yearName=sdate.format("YYYY");var month=moment().month(vm.monthName).format("M")-1;vm.dayName=moment(new Date(parseInt(vm.yearName,10),month)).format("d");for(var i=0;i<daysInMonth;i++)vm.numberOfDays.push(pad(i+1));var dateIncluded=getDateRange(vm.startDate,vm.endDate).filter(function(obj){return vm.dateExclude.indexOf(obj)===-1});angular.forEach(dateIncluded,function(value){var dateStringArray=value.split("/"),currentDay=parseInt(dateStringArray[0],10);parseInt(dateStringArray[1],10)===parseInt(sdate.format("M"),10)&&dateArray.push(pad(currentDay))}),vm.calendarService=calendarService,vm.isDateActive=isDateActive,vm.selectDate=selectDate,vm.getEmptyDayBlockNumber=getEmptyDayBlockNumber,vm.getSurcharge=getSurcharge}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=calendarController},133:function(module,exports){module.exports='<div class="calendar-widget" data-ng-if="!vm.noDates">\r\n  <div class="month">\r\n    <ul>\r\n      <li>{{ vm.monthName }}</li>\r\n    </ul>\r\n  </div>\r\n  <ul class="weekdays">\r\n    <li data-ng-repeat="wkd in vm.weekday"><span>{{ wkd }}</span></li>\r\n  </ul>\r\n  <ul class="days">\r\n    <li data-ng-repeat="num in vm.getEmptyDayBlockNumber() track by $index"><span></span></li>\r\n    <li data-ng-repeat="day in vm.numberOfDays track by $index">\r\n      <span data-ng-class="[{ \'active\': vm.isDateActive(day), \'selected\': vm.calendarService.calendarModel.day === day && vm.calendarService.calendarModel.month === vm.monthName }]"\r\n        data-ng-click="vm.selectDate(day)">\r\n        <span>{{ day }}</span><br>\r\n        <span data-ng-if="vm.isDateActive(day)">\r\n          <span id="currency" class="price">&pound;</span>\r\n          <span id="amount" class="price">{{ vm.getSurcharge(day) }}</span>\r\n        </span>\r\n      </span>\r\n    </li>\r\n  </ul>\r\n</div>\r\n<p data-ng-if="vm.calendarService.calendarModel.surcharge">Surcharge for selected date: &pound;{{ vm.calendarService.calendarModel.surcharge }}</p><br>\r\n<p data-ng-if="vm.calendarService.calendarModel.day">Selected date: {{ vm.calendarService.getselectedDate() }}</p>\r\n<p data-ng-if="vm.noDates" class="calendar-error-message">Can\'t display calendar. Please check given input.</p>\r\n'},134:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _angular=__webpack_require__(1),_angular2=_interopRequireDefault(_angular),_calendar=__webpack_require__(131),_calendar2=_interopRequireDefault(_calendar),componentsModule=_angular2.default.module("app.components",[]).component("calendarComponent",_calendar2.default).name;exports.default=componentsModule},135:function(module,exports){"use strict";function calendarService(){function getselectedDate(){return calendarModel.day+separator+calendarModel.month+separator+calendarModel.year}function clearRedeliveryDate(){calendarModel.day="",calendarModel.month="",calendarModel.year="",calendarModel.surcharge=0}function getSurcharge(){return calendarModel.surcharge}function setDateOptions(options){dateOptions=options}var calendarModel={day:"",month:"",year:"",surcharge:0},dateOptions={dateFrom:"01/01/2018",dateTo:"30/01/2018",datesExcluded:["12/01/2018","13/01/2018","18/01/2018"],surcharge:{weekend:10,weekday:5}},separator="/";return{calendarModel:calendarModel,dateOptions:dateOptions,getselectedDate:getselectedDate,getSurcharge:getSurcharge,clearRedeliveryDate:clearRedeliveryDate,setDateOptions:setDateOptions}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=calendarService},136:function(module,exports){"use strict";function bootstrap(){angular.element(document).ready(function(){angular.bootstrap(document,["app"])})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=bootstrap},137:function(module,exports){}});
//# sourceMappingURL=app.bundle.js.map